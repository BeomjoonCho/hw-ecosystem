# 커밋 규칙 및 워크플로우

## 📋 개요

이 문서는 기술 파트너 대시보드 프로젝트의 커밋 규칙과 워크플로우를 정의합니다. 모든 커밋은 이 규칙을 따라야 합니다.

---

## 🔄 커밋 워크플로우

### 1. 작업 완료 후 커밋 전 필수 단계

커밋을 요청하기 전에 **반드시** 다음 단계를 수행해야 합니다:

#### Step 1: 개발 히스토리 문서 업데이트
1. `docs/99.Development_History_01.md` 파일을 열기
2. 현재 커밋에 포함될 변경사항을 문서에 추가
3. 다음 섹션에 기록:
   - **변경된 파일 목록**
   - **구현된 기능/수정사항**
   - **주요 변경 내용**
   - **날짜 및 버전 정보**

#### Step 2: 커밋 메시지 작성
- 개발 히스토리 문서에 기록한 내용을 기반으로 커밋 메시지 작성
- 커밋 메시지 형식은 아래 "커밋 메시지 형식" 섹션 참고

#### Step 3: 커밋 실행
- 개발 히스토리 문서 업데이트가 완료된 후에만 커밋 실행

---

## 📝 커밋 메시지 형식

### 기본 형식

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type (필수)

커밋의 성격을 나타내는 타입:

- `feat`: 새로운 기능 추가
- `fix`: 버그 수정
- `docs`: 문서 수정
- `style`: 코드 포맷팅, 세미콜론 누락 등 (기능 변경 없음)
- `refactor`: 코드 리팩토링
- `test`: 테스트 코드 추가/수정
- `chore`: 빌드 업무 수정, 패키지 매니저 설정 등
- `perf`: 성능 개선
- `ci`: CI/CD 설정 변경

### Scope (선택)

변경된 범위를 나타냅니다:

- `ui`: UI 컴포넌트
- `page`: 페이지
- `api`: API 관련
- `db`: 데이터베이스
- `auth`: 인증/인가
- `config`: 설정 파일
- `docs`: 문서

### Subject (필수)

- 50자 이내로 간결하게 작성
- 명령형으로 작성 (예: "추가", "수정", "삭제")
- 첫 글자는 대문자
- 마지막에 마침표(.) 사용하지 않음

### Body (선택)

- 변경 사항의 상세 설명
- "왜" 변경했는지 설명
- 72자마다 줄바꿈

### Footer (선택)

- 이슈 번호 참조: `Closes #123`
- Breaking changes: `BREAKING CHANGE: 설명`

---

## 📋 커밋 메시지 예시

### 예시 1: 기능 추가
```
feat(ui): 파트너 기술 제안 모달 추가

- 프로세스 진행 현황 표시 기능 구현
- 업체 기본 정보 및 상세 내용 입력 폼 추가
- React Hook Form + Zod를 사용한 폼 검증 구현

관련 파일:
- components/dashboard/PartnerProposalModal.tsx
- components/dashboard/PartnerGrid.tsx

Closes #45
```

### 예시 2: 버그 수정
```
fix(page): 파트너 상세 페이지 점수 표시 오류 수정

- 5점 만점 점수를 10점 만점으로 통일
- 모든 세부 평가 항목 점수 수정

관련 파일:
- app/partners/[id]/page.tsx
```

### 예시 3: 문서 수정
```
docs: 백엔드 연동 계획 문서 작성

- 데이터베이스 스키마 설계
- API 엔드포인트 설계
- 단계별 개발 계획 수립

관련 파일:
- docs/03.backend-integration-plan.md
```

### 예시 4: 리팩토링
```
refactor(ui): PartnerCard 컴포넌트 리팩토링

- 기술 태그를 클릭 가능한 링크로 변경
- 키워드 필터링 기능 연동
- 코드 가독성 개선

관련 파일:
- components/dashboard/PartnerCard.tsx
```

---

## 📖 개발 히스토리 문서 업데이트 가이드

### 문서 위치
`docs/99.Development_History_01.md`

### 업데이트 형식

커밋 전에 다음 형식으로 문서를 업데이트합니다:

```markdown
## 📝 커밋 히스토리

### [날짜] - 커밋 메시지 제목

**커밋 해시**: `abc1234` (커밋 후 업데이트)

**변경된 파일**:
- `app/page.tsx`
- `components/dashboard/PartnerCard.tsx`

**구현된 기능/수정사항**:
- 파트너 카드의 기술 태그를 클릭 가능한 링크로 변경
- 키워드 필터링 기능 추가

**주요 변경 내용**:
1. PartnerCard 컴포넌트에서 기술 태그에 Link 컴포넌트 적용
2. `/partners?keyword=xxx` 형식의 URL로 필터링 페이지 이동
3. hover 효과 추가로 클릭 가능함을 시각적으로 표시

**관련 이슈**: #45
```

### 섹션 추가 위치

문서의 **"📝 커밋 히스토리"** 섹션 하단에 추가합니다.  
해당 섹션이 없으면 문서 하단에 새로 생성합니다.

---

## ✅ 커밋 전 체크리스트

커밋을 실행하기 전에 다음 항목을 확인하세요:

- [ ] 개발 히스토리 문서(`docs/99.Development_History_01.md`)에 변경사항 기록
- [ ] 커밋 메시지가 규칙에 맞게 작성됨
- [ ] 변경된 파일이 모두 스테이징됨
- [ ] 불필요한 파일(로그, 임시 파일 등)이 제외됨
- [ ] 코드가 정상적으로 작동함 (로컬 테스트 완료)
- [ ] 린트 오류가 없음 (`npm run lint`)

---

## 🚫 커밋하지 말아야 할 것

다음 항목은 커밋에 포함하지 않습니다:

- 환경 변수 파일 (`.env`, `.env.local`)
- 빌드 결과물 (`dist/`, `.next/`)
- 로그 파일
- 임시 파일
- IDE 설정 파일 (프로젝트 공유 설정 제외)
- 개인 노트나 TODO 파일

---

## 📚 참고사항

### Git Hooks (선택사항)

프로젝트에 pre-commit hook을 추가하여 자동으로 체크할 수 있습니다:

```bash
# .husky/pre-commit 예시
#!/bin/sh
npm run lint
npm run type-check
```

### 브랜치 전략

- `main`: 프로덕션 배포용 브랜치
- `develop`: 개발 브랜치
- `feature/*`: 기능 개발 브랜치
- `fix/*`: 버그 수정 브랜치

---

## 🔄 커밋 예시 시나리오

### 시나리오 1: 새 기능 추가

1. **작업 완료**: 파트너 기술 제안 모달 구현 완료
2. **문서 업데이트**: `docs/99.Development_History_01.md`에 변경사항 기록
3. **커밋 메시지 작성**:
   ```
   feat(ui): 파트너 기술 제안 모달 추가
   
   - 프로세스 진행 현황 표시 기능 구현
   - 업체 기본 정보 및 상세 내용 입력 폼 추가
   ```
4. **커밋 실행**: `git commit -m "..."`

### 시나리오 2: 버그 수정

1. **버그 발견**: 점수 표시가 5점 만점으로 잘못 표시됨
2. **수정 완료**: 모든 점수를 10점 만점으로 수정
3. **문서 업데이트**: 개발 히스토리 문서에 수정 내용 기록
4. **커밋 메시지 작성**:
   ```
   fix(page): 파트너 상세 페이지 점수 표시 오류 수정
   
   - 5점 만점 점수를 10점 만점으로 통일
   ```
5. **커밋 실행**

---

## 📞 문의

커밋 규칙에 대한 질문이나 제안사항이 있으면 팀에 문의하세요.

---

**작성일**: 2026-01-XX  
**버전**: 1.0  
**유지보수**: Development Team
